#include <stdio.h>
#include <stdlib.h>

int main (){
   
    int p, q;
    int i, j;
    int count = 0;
    int n21;
    int A[9] = {6,3,3,6,7,8,7,3,7};
    int B[3][2] = {{2,6},{4,7},{6,7}};
    int n1 = 9;
    n21 = 3;
    int px[n1];
    //int A[1000] = {881,508,42,56,34,15,995,308,525,240,297,557,425,966,643,559,349,874,532,867,360,229,114,724,138,629,714,643,184,444,707,68,787,705,999,975,681,892,365,647,515,758,721,78,638,767,883,647,154,110,44,315,182,589,244,853,266,611,327,166,627,144,339,449,34,316,539,16,325,624,631,877,677,851,522,322,791,998,219,994,915,969,292,421,720,836,598,320,318,654,995,475,834,90,955,25,814,629,640,155,334,218,681,805,492,462,523,832,780,851,115,318,425,745,61,546,510,505,872,53,326,952,16,722,837,314,867,947,461,821,508,593,90,353,572,368,718,815,939,848,614,727,475,197,434,328,534,24,17,924,739,581,563,721,301,179,965,409,836,343,681,643,642,169,443,160,494,556,245,414,477,962,252,233,980,199,56,541,191,313,440,501,382,79,204,991,754,31,601,342,748,837,633,823,487,907,408,740,817,35,552,588,742,895,934,473,141,898,978,136,785,429,123,837,105,283,337,572,624,844,1,97,309,278,717,481,629,687,241,7,708,853,143,384,976,678,492,943,886,272,785,306,802,954,578,170,76,945,298,175,958,84,246,674,647,177,461,618,730,438,23,912,200,480,235,266,498,295,447,931,960,472,491,361,996,362,30,310,655,370,72,153,268,63,574,794,688,918,722,545,929,311,329,871,387,726,27,915,420,19,709,766,377,874,58,111,359,740,686,577,587,140,922,832,658,931,907,608,298,237,595,630,263,538,295,540,839,302,87,265,646,649,672,519,955,359,469,676,81,232,42,345,207,441,952,14,849,778,125,92,308,575,216,905,526,71,249,64,123,24,327,422,689,169,416,366,733,750,829,558,692,991,210,648,644,945,115,194,847,171,586,894,495,899,402,411,92,927,479,322,416,332,947,121,980,995,107,676,736,439,104,439,15,528,247,93,416,50,897,284,598,719,156,255,665,713,472,507,164,153,890,242,524,571,260,379,511,23,571,728,347,778,616,702,658,491,384,488,941,462,484,165,926,540,722,646,420,849,194,121,635,693,681,760,969,180,433,579,467,542,743,234,30,15,276,923,502,1000,829,410,26,372,307,284,741,964,132,307,231,916,120,245,891,171,788,285,62,47,99,937,350,719,480,26,865,911,901,911,641,472,15,74,31,341,23,657,117,598,34,238,171,585,562,432,122,756,740,272,732,301,336,101,858,154,764,200,972,161,121,345,629,785,140,984,909,671,262,828,757,675,925,304,478,984,545,89,266,575,664,545,554,756,826,575,958,632,93,461,280,965,938,513,90,277,998,428,850,332,418};
    //int B[200][2] = {{43,56},{40,384},{326,347},{39,174},{352,512},{10,309},{26,255},{372,481},{479,526},{207,241},{0,387},{168,352},{360,536},{18,245},{92,355},{258,369},{66,172},{27,197},{296,469},{220,381},{42,98},{35,275},{131,429},{74,107},{52,318},{43,127},{2,461},{22,513},{68,493},{219,220},{11,280},{202,259},{38,512},{35,315},{210,411},{73,518},{56,550},{109,445},{26,438},{89,184},{326,349},{28,441},{11,27},{165,267},{78,205},{166,240},{472,537},{83,269},{301,440},{99,432},{444,502},{372,521},{59,193},{118,564},{317,545},{144,551},{97,512},{17,36},{251,313},{11,192},{168,193},{104,519},{79,474},{146,423},{54,457},{209,448},{154,488},{264,359},{249,474},{198,238},{279,308},{256,422},{65,259},{81,285},{82,373},{288,544},{23,161},{423,531},{114,463},{120,399},{61,217},{151,527},{42,185},{276,525},{407,528},{73,133},{336,358},{39,194},{32,285},{264,501},{409,498},{139,475},{474,566},{315,455},{18,39},{221,400},{350,421},{64,389},{437,465},{47,525},{118,426},{161,529},{130,369},{180,220},{538,552},{293,470},{134,564},{231,469},{226,336},{334,549},{169,173},{184,203},{72,112},{225,548},{241,448},{146,463},{65,500},{50,59},{218,466},{14,383},{127,368},{443,458},{134,218},{90,410},{224,372},{194,412},{216,544},{221,354},{299,540},{348,479},{474,555},{63,149},{240,368},{336,544},{301,552},{216,349},{222,374},{229,529},{33,315},{66,464},{53,507},{69,70},{354,466},{123,561},{87,368},{322,500},{102,169},{193,471},{393,481},{102,187},{77,340},{85,474},{238,387},{262,492},{337,473},{11,180},{273,287},{89,541}};
    
    
    int *c = (int*)malloc(n21 * sizeof(int));

    for (i = 0; i < n1; i++){
        px[i] = 0;
    }
    //Calculate num of evens with Prefix sum
    if (A[0]%2 == 0){
        px[0] = 1;
    } else {
        px[0] = 0;
    }
    for (i = 1; i < n1; i++){
        if (A[i]%2 == 0){
            px[i] = px[i-1]+1; 
        } else {
            px[i] = px[i-1];
        }

    }

    printf("EVEN NUMBERS : ");
    for (i = 0; i < n1; i++){
        printf("%d ",px[i]);
    }

    printf("\n");

    for (i = 0; i < n21; i++){
        printf("Iter: %d\n",i);

        p = B[i][0];
        q = B[i][1];
        printf("p : %d q : %d\n", p,q);
        if (p == 0){
            c[i] = px[q];
        } else  {
            c[i] = px[q] - px[p-1];
        } 
    }
    printf("Final array: ");
    for (i = 0; i < n21; i++){
        printf("%d ",c[i]);
    }  
    return 0;
}